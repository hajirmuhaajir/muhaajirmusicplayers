<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    
    <!-- CSP mengizinkan catbox.moe dan postimg.cc -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://files.catbox.moe; style-src 'self' 'unsafe-inline'; media-src 'self' https://files.catbox.moe; connect-src 'self'; img-src 'self' https://i.postimg.cc https://postimg.cc data:; frame-src 'none'; font-src 'self';">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://i.postimg.cc/Kvg50f5n/IMG-20250812-164118-putih.png">
    
    <title>muhaajir ¬∑ music players (G-Drive links)</title>
    <style>
        :root {
            --bg: #0a0a0a;
            --panel: #141414;
            --accent: #ffd700;
            --text-main: #f8fafc;
            --text-dim: #64748b;
            --border: #0a1a2f;
        }
        
        * { box-sizing: border-box; transition: all 0.2s ease; }
        
        body {
            background: var(--bg);
            color: var(--text-main);
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            padding: 20px 10px;
        }

        .master-container {
            display: flex;
            width: 960px;
            max-width: 96vw;
            height: 580px;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 20px 40px rgba(0,0,0,0.8);
            margin-bottom: 16px;
        }

        /* PANEL KIRI ‚Äî RESONANSI */
        .resonance-chamber {
            flex: 1.2;
            padding: 40px 32px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border-right: 1px solid var(--border);
        }

        .main-logo {
            margin-bottom: 25px;
            text-align: left;
        }
        
        .main-logo img {
            height: 70px;
            width: auto;
            filter: brightness(0) invert(1) drop-shadow(0 0 8px rgba(255,215,0,0.3));
            transition: 0.3s;
        }
        
        .main-logo img:hover {
            filter: brightness(0) invert(1) drop-shadow(0 0 12px var(--accent));
            transform: scale(1.02);
        }

        .brand-logo {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }
        .brand-logo img {
            height: 32px;
            width: auto;
            opacity: 0.9;
            filter: brightness(0) invert(1);
            transition: 0.2s;
        }
        .brand-logo img:hover {
            opacity: 1;
            filter: brightness(0) invert(1) drop-shadow(0 0 4px var(--accent));
        }
        .footer-logo img {
            height: 18px;
            vertical-align: middle;
            margin-right: 6px;
            filter: brightness(0) invert(0.7);
        }
        .footer-logo:hover img {
            filter: brightness(0) invert(1) drop-shadow(0 0 2px var(--accent));
        }

        .album-breadcrumb { font-size: 0.7rem; letter-spacing: 2px; color: var(--accent); text-transform: uppercase; font-weight: 800; }
        .song-title-large { font-size: 2.5rem; font-weight: 900; line-height: 1.1; margin: 12px 0 8px; letter-spacing: -1.5px; word-break: break-word; color: var(--text-main); }
        .meta-row { font-size: 0.65rem; color: var(--text-dim); display: flex; gap: 15px; align-items: center; flex-wrap: wrap; }
        
        /* Status playback (baris baru) */
        .playback-status {
            font-size: 0.8rem;
            color: var(--accent);
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        /* Area lirik dengan scroll */
        .lyrics-display {
            margin-top: 5px;
            font-size: 0.8rem;
            color: var(--text-dim);
            border-left: 2px solid var(--accent);
            padding-left: 15px;
            min-height: 150px;
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
            scrollbar-width: thin;
            scrollbar-color: var(--accent) #222;
            line-height: 1.5;
            background: rgba(0,0,0,0.2);
            border-radius: 0 4px 4px 0;
        }
        .lyrics-display::-webkit-scrollbar {
            width: 4px;
        }
        .lyrics-display::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 2px;
        }

        .progress-container { width: 100%; height: 4px; background: #222; cursor: pointer; margin-bottom: 6px; margin-top: auto; border-radius: 2px; }
        #progress-fill { height: 100%; background: var(--accent); width: 0%; position: relative; border-radius: 2px; }
        .time-labels { display: flex; justify-content: space-between; font-size: 0.6rem; font-family: monospace; color: var(--text-dim); }

        .controls-wrapper {
            margin-top: 25px;
            background: rgba(255,255,255,0.02);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .controls-main { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
        .btn-core { background: none; border: none; color: var(--text-dim); cursor: pointer; font-size: 1.2rem; }
        .btn-core.active { color: var(--accent); text-shadow: 0 0 8px var(--accent); }
        .btn-core:hover { color: var(--text-main); }

        .play-pause-circle {
            width: 60px; height: 60px; background: var(--text-main); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
        }
        .play-pause-circle:hover { transform: scale(1.05); background: var(--accent); }
        .play-pause-circle svg { width: 24px; height: 24px; fill: var(--bg); }

        .volume-integrated {
            display: flex;
            align-items: center;
            gap: 12px;
            padding-top: 10px;
            border-top: 1px solid rgba(255,255,255,0.05);
        }
        .volume-integrated span { font-size: 0.6rem; font-weight: 900; color: var(--text-dim); }
        .volume-integrated input[type=range] {
            flex-grow: 1;
            height: 2px;
            -webkit-appearance: none;
            background: #333;
            accent-color: var(--accent);
            cursor: pointer;
        }

        /* PANEL KANAN */
        .tape-rack { flex: 0.8; background: #0d0d0d; display: flex; flex-direction: column; }
        .rack-header { 
            padding: 16px 20px; 
            border-bottom: 1px solid var(--border); 
            font-size: 0.65rem; 
            font-weight: 900; 
            color: var(--text-dim); 
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .header-logo img {
            height: 28px;
            width: auto;
            filter: brightness(0) invert(0.8);
            transition: 0.2s;
            cursor: pointer;
        }
        .header-logo img:hover {
            filter: brightness(0) invert(1) drop-shadow(0 0 4px var(--accent));
        }
        .playlist-scroll { flex-grow: 1; overflow-y: auto; padding: 10px; }
        .group-label { padding: 15px 10px 5px; font-size: 0.6rem; color: var(--accent); text-transform: uppercase; font-weight: 800; }
        .track-item { display: flex; align-items: center; padding: 12px 10px; cursor: pointer; border-radius: 2px; }
        .track-item:hover { background: #1a1a1a; }
        .track-item.active { background: #1e1e1e; border-left: 3px solid var(--accent); color: var(--accent); }
        .t-num { font-size: 0.65rem; color: var(--text-dim); width: 25px; font-family: monospace; }
        .t-name { font-size: 0.8rem; font-weight: 500; flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--text-main); }
        .track-item.active .t-name { color: var(--accent); }
        .track-actions { display: flex; gap: 6px; opacity: 0.2; }
        .track-item:hover .track-actions { opacity: 1; }
        .act-btn { font-size: 0.55rem; color: var(--text-main); text-decoration: none; border: 1px solid var(--border); padding: 2px 5px; font-weight: bold; border-radius: 2px; background: none; cursor: pointer; }
        .act-btn:hover { border-color: var(--accent); color: var(--accent); }

        .heart {
            display: inline-block;
            color: #ff0000;
            animation: heartbeat 1.2s infinite;
            cursor: default;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        #rotating-name {
            transition: opacity 0.3s ease-in-out;
            display: inline-block;
            min-width: 60px;
            font-weight: bold;
            color: var(--accent);
        }

        .audio-loading::after {
            content: '';
            display: inline-block;
            width: 12px;
            height: 12px;
            border: 2px solid var(--accent);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-left: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            color: #ff6b6b !important;
        }

        @media (max-width: 700px) {
            .master-container { flex-direction: column; height: auto; width: 95%; margin: 20px 0; }
            .resonance-chamber { border-right: none; border-bottom: 1px solid var(--border); padding: 30px; }
            .tape-rack { height: 400px; }
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #333; }

        .footer-essentials {
            width: 960px;
            max-width: 96vw;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.65rem;
            color: var(--text-dim);
            background: transparent;
            padding: 12px 4px;
            border-top: 1px solid var(--border);
            margin-top: 0;
        }
        
        .footer-essentials a {
            color: var(--accent);
            text-decoration: none;
            border-bottom: 1px dotted var(--accent);
            margin: 0 4px;
        }
        
        .footer-essentials a:hover {
            opacity: 0.8;
        }
        
        .footer-links {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .logo-watermark {
            position: fixed;
            bottom: 10px;
            right: 10px;
            opacity: 0.15;
            pointer-events: none;
            z-index: 999;
        }
        
        .logo-watermark img {
            height: 30px;
            width: auto;
            filter: brightness(0) invert(1);
        }

        @media (min-width: 1024px) {
            .master-container,
            .footer-essentials {
                max-width: 1200px;
                width: 100%;
                margin-left: auto;
                margin-right: auto;
            }
            .master-container {
                height: 680px;
            }
            .song-title-large {
                font-size: 3.5rem;
                letter-spacing: -2px;
            }
            .album-breadcrumb {
                font-size: 0.9rem;
                letter-spacing: 3px;
            }
            .meta-row {
                font-size: 0.85rem;
                gap: 25px;
            }
            .playback-status {
                font-size: 1rem;
                margin-top: 20px;
            }
            .lyrics-display {
                font-size: 1rem;
                max-height: 250px;
            }
            .time-labels {
                font-size: 0.7rem;
            }
            .resonance-chamber {
                padding: 60px 50px;
            }
            .brand-logo img {
                height: 40px;
            }
            .main-logo img {
                height: 90px;
            }
            .controls-wrapper {
                padding: 25px;
            }
            .play-pause-circle {
                width: 70px;
                height: 70px;
            }
            .btn-core {
                font-size: 1.5rem;
            }
            .rack-header {
                padding: 22px 28px;
                font-size: 0.8rem;
            }
            .header-logo img {
                height: 36px;
            }
            .group-label {
                font-size: 0.7rem;
                padding: 20px 15px 8px;
            }
            .track-item {
                padding: 15px 15px;
            }
            .t-num {
                font-size: 0.7rem;
                width: 30px;
            }
            .t-name {
                font-size: 0.95rem;
            }
            .act-btn {
                font-size: 0.6rem;
                padding: 3px 8px;
            }
            .footer-essentials {
                font-size: 0.8rem;
                padding: 20px 4px;
            }
            .footer-logo img {
                height: 20px;
            }
            .logo-watermark img {
                height: 40px;
            }
            .master-container {
                max-width: 1200px;
                margin-left: auto;
                margin-right: auto;
            }
        }
    </style>
</head>
<body>

<div class="master-container">
    <div class="resonance-chamber">
        <div>
            <div class="brand-logo">
                <img src="https://i.postimg.cc/Kvg50f5n/IMG-20250812-164118-putih.png" alt="muhaajir logo" loading="lazy">
                <span style="font-size:0.7rem; color:var(--text-dim); letter-spacing: 1px;">//Muhaajir Music Players</span>
            </div>
            <div class="album-breadcrumb" id="display-album">Arsip Suara</div>
            <h1 class="song-title-large" id="display-title">Memulai...</h1>
            <div class="meta-row">
                <span>‚è£ MUHAAJIR</span>
                <span>‚è§</span>
                <span>2025</span>
                <span style="color:var(--accent); font-weight: 800;">[NO COPYRIGHT SONG]</span>
            </div>

            <!-- Status pemutaran (baris baru) -->
            <div class="playback-status" id="playback-status">‚è∏Ô∏è Menjeda</div>
            
            <!-- Area lirik (sekarang terpisah) -->
            <div class="lyrics-display" id="lyrics-display">üéß Pilih kaset dari rak untuk memutar suara.</div>
        </div>

        <div style="width: 100%;">
            <div class="progress-container" id="prog-root">
                <div id="progress-fill"></div>
            </div>
            <div class="time-labels">
                <span id="time-now">0:00</span>
                <span id="time-end">0:00</span>
            </div>

            <div class="controls-wrapper">
                <div class="controls-main">
                    <button class="btn-core" id="shuffle-btn" title="Acak">‚Üª</button>
                    <button class="btn-core" id="prev-btn" style="font-size: 1.6rem;">‚óÅ</button>
                    <div class="play-pause-circle" id="play-trigger">
                        <svg id="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                    </div>
                    <button class="btn-core" id="next-btn" style="font-size: 1.6rem;">‚ñ∑</button>
                    <button class="btn-core" id="repeat-btn" title="Ulang">‚Üª</button>
                </div>
                
                <div class="volume-integrated">
                    <span>VOL</span>
                    <input type="range" id="vol-slider" min="0" max="1" step="0.05" value="1">
                </div>
            </div>
        </div>
    </div>

    <div class="tape-rack">
        <div class="rack-header">
            <span>DAFTAR PUTAR</span>
            <div class="header-logo">
                <img src="https://i.postimg.cc/Kvg50f5n/IMG-20250812-164118-putih.png" alt="logo mini" loading="lazy">
            </div>
        </div>
        <div class="playlist-scroll" id="playlist-inject"></div>
    </div>
</div>

<div class="footer-essentials">
    <span class="footer-logo">
        <img src="https://i.postimg.cc/Kvg50f5n/IMG-20250812-164118-putih.png" alt="¬µ" style="height:16px;">
        ¬© 2025-2026 Muhaajir. Built with <span class="heart">‚ù§Ô∏è</span> 
        <span style="margin-left: 8px;">Thanks To <span id="rotating-name">Regina</span></span>
    </span>

    <div class="footer-links">
        <a href="https://hajirmuhaajir.github.io/main-showcase/" target="_blank" rel="noopener noreferrer">‚Ü© back to main-showcase</a>
        <a href="https://hajirmuhaajir.github.io/footer-essentials" target="_blank" rel="noopener noreferrer">‚öô footer essentials</a>
    </div>
</div>

<audio id="audio-engine" preload="metadata"></audio>

<div class="logo-watermark">
    <img src="https://i.postimg.cc/Kvg50f5n/IMG-20250812-164118-putih.png" alt="¬µ">
</div>

<script>
    (function() {
        'use strict';

        // Proteksi eval
        if (window.eval) {
            Object.defineProperty(window, 'eval', {
                value: function(str) {
                    console.warn('eval() diblokir untuk keamanan');
                    return undefined;
                },
                writable: false,
                configurable: false
            });
        }

        // Data lagu dengan Google Drive ID
        const rawSongData = [
            // Fragmen Suara
            { name: "Lintasan Tak Bermakna", group: "Fragmen Suara", url: "https://files.catbox.moe/6pact4.mp3", gdId: "1_Dn7CsNUNkECXotJYZcofSV90--d0mbg" },
            { name: "Padahal Sudah Bilang", group: "Fragmen Suara", url: "https://files.catbox.moe/xksnbw.mp3", gdId: "1xDIhBggeN2hbveqyMWE5Q6wCOqxllboP" },
            { name: "Mimpi yang Tertunda", group: "Fragmen Suara", url: "https://files.catbox.moe/g0qdg4.mp3", gdId: "1Iu5Ecf105P-KsxUrqIhNajmhIvKXzJfk" },
            { name: "Langit Masih Sama", group: "Fragmen Suara", url: "https://files.catbox.moe/xku817.mp3", gdId: "1zBxxORALIkAdsWDK6L-rvrUIxYkpHNGT" },
            { name: "Suatu Hari Nanti", group: "Fragmen Suara", url: "https://files.catbox.moe/c21lkq.mp3", gdId: "1XGef_7uBzQyiXnRr34CbBaWOt3-GssOd" },
            // Resonansi Dalam Diam
            { name: "Nada Terpendam", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/zp943i.mp3", gdId: "1nlR4fIW9OL3KTPSU9cCLW9rESA3A1sCb" },
            { name: "Langit Patah Arah", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/4476ew.mp3", gdId: "17R1mc6FwqbK25ynWDw9CIIM7YrbAMqJ0" },
            { name: "Tak Bernama, Tapi Ada", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/fmjqjz.mp3", gdId: "1OkeF_VH1NJWJS-99N4kt9K5Wg1yxN37G" },
            { name: "Resonansi Dalam Diam", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/bqdso1.mp3", gdId: "1KFkKvwmFw8Fzo6ErCa65v_--BahudXM6" },
            { name: "Runtuh Tanpa Suara", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/wy0hy6.mp3", gdId: "1v3vSjYL98fXKKgMpn_nhV-IDjsQvv_FU" },
            { name: "Kilau Tanpa Sorotan", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/7nxsix.mp3", gdId: "1PAdvzfPDXl7IeOloMDM5gngeTV0KGcIV" },
            { name: "Gelombang Terakhir", group: "Resonansi Dalam Diam", url: "https://files.catbox.moe/hkair0.mp3", gdId: "1094sBXRKLQ2c_3fdYJjRuykxKPP0lOfx" }
        ];

        // Validasi URL catbox
        function isValidUrl(url) {
            if (!url || typeof url !== 'string') return false;
            try {
                const parsed = new URL(url);
                return parsed.protocol === 'https:' && parsed.hostname === 'files.catbox.moe';
            } catch {
                return false;
            }
        }

        // Filter hanya lagu dengan URL catbox valid
        const songs = rawSongData.filter(song => isValidUrl(song.url));

        // ========== LIRIK LENGKAP SEMUA LAGU ==========
        const lyricsMap = {
            "Lintasan Tak Bermakna": `Di garis start nyali pun bicara,
Mesin menderu bak suara raja.
Asap naik, waktu pun lenyap,
Tiap tikungan, mimpi pun tajam.

Tak ada ragu dalam kecepatan,
Lintasan adalah medan keberanian.
Ban berteriak dalam keyakinan,
Menuju juara, penuh pengorbanan.

Detik berdetak di balik helm,
Fokus tajam, pikiran diam.
Satu peluang di ujung tikungan,
Sekali salah, habis harapan.

Di balik visor, mimpi menyala,
Dibakar semangat, dinginkan raga.
Gas ditekan, batas dilawan,
Di jalur ini, hanya pemenang bertahan.

Semua sepi saat melaju,
Hanya angin yang tahu arahmu.
Keringat jatuh, hati membara,
Ini bukan sekadar lomba.

Taklukan keraguan di tikungan tajam,
Jiwa pembalap tak pernah padam.
Terjatuh? Bangkit! Jangan bertanya,
Karena lintasan tak beri jeda.

Di atas aspal, cerita ditulis,
Dengan kecepatan yang tak bisa ditangkap garis.
GASPOL! TAKLUKKAN LINTASAN & JADILAH JUARA!`,

            "Padahal Sudah Bilang": `Hari itu aku tak di kelas
Tapi pesanku sudah sampai jelas
Kuketik pelan, kuhormat seperti biasa
Kirim ke wali kupikir itu cukup

Tapi paginya, kulihat lembar absen
Namaku hilang, tak ada keterangan

Padahal sudah bilang
Kusampaikan baik pada yang berwenang
Tak perlu teriak, tak kurang sopan
Tapi tetap saja dianggap hilang
Padahal aku cuma ingin dimengerti

Katanya semua punya hak bicara
Tapi mengapa yang pelan tak didengar juga?
Kubiarkan kepala menunduk diam
Karena kata-kataku dianggap tak sampai malam

Mungkin pesan itu terlewat
Atau mungkin‚Ä¶ sengaja tak dilihat

Padahal sudah bilang
Kujalankan aturan seperti yang diajar
Tapi tetap ditulis tanpa kabar
Seolah tak pernah ada niat benar
Padahal aku hanya ingin dihargai

Suara pelan bukan berarti salah
Diam bukan berarti tak usaha
Kalau pun salahku tak cukup keras
Mengapa kebenaran tak diberi tempat?

Padahal sudah bilang
Kepada yang seharusnya mencatat
Tapi tetap tertulis aku tak hadir
Seolah aku menghilang tanpa jejak
Padahal aku‚Ä¶ selalu mencoba jujur

Besok-besok, mungkin aku benar-benar diam
Biar mereka tulis saja, Tanpa Keterangan`,

            "Mimpi yang Tertunda": `Duduk diam di sudut kamar,
Buku terbuka tapi pikiran liar.
Cita-cita tinggi melangit,
Tapi tangan malas untuk bangkit.

Orang bilang aku pemimpi,
Terlalu banyak tidur di siang hari.
Tapi dalam hati ku tahu pasti,
Ada jalan untuk jadi berarti.

Tak cepat, tak langsung terbang tinggi,
Jalan lambat pun bisa berarti.
Waktu berjalan, aku mulai sadar,
Impian itu harus dikejar.

Kini aku berdiri di puncak dunia,
Dulu dihina, kini dipercaya.
Langkahku lambat tapi tak pernah mundur,
Mimpi yang tertunda kini pun jujur.

Hari-hari penuh alasan,
Tapi malam penuh harapan.
Layar penuh rencana palsu,
Tapi hati tetap tak mau jemu.

Aku tahu aku harus berubah,
Walau malas sering buat resah.
Sedikit demi sedikit ku coba,
Hingga langkah kecil jadi nyata.

Tak cepat, tak langsung terbang tinggi,
Jalan lambat pun bisa berarti.
Waktu berjalan, aku mulai sadar,
Impian itu harus dikejar.

Kini aku berdiri di puncak dunia,
Dulu dihina, kini dipercaya.
Langkahku lambat tapi tak pernah mundur,
Mimpi yang tertunda kini pun jujur.

Bukan soal seberapa cepat,
Tapi seberapa kuat niat.
Masa lalu bukan penentu,
Karena masa depan milik yang mau.

Kini aku berdiri di puncak dunia,
Bukan karena cepat, tapi karena percaya.
Langkahku lambat tapi tak pernah luntur,
Mimpi yang tertunda‚Ä¶ akhirnya jujur.`,

            "Langit Masih Sama": `Pagi datang tanpa warna
Langkahku berat, hati terluka
Tapi aku tahu, waktu takkan tunggu
Harus bangkit, walau masih ragu

Setiap luka ada akhirnya
Setiap gelap pasti ada cahaya

Langit masih sama, biru di atas sana
Meski badai sempat butakan mata
Aku percaya, masih ada cahaya
Di balik semua air mata

Jejak mimpi yang sempat hilang
Kupungut satu-satu dengan tenang
Tak semua indah, tapi semua nyata
Hidup bukan tentang menyerah

Karena hati tak dicipta untuk padam
Walau ribuan kali jatuh tenggelam

Langit masih sama, biru di atas sana
Meski badai sempat butakan mata
Aku percaya, masih ada cahaya
Di balik semua air mata

Saat kau pikir semua terlambat
Ingat, mentari tak pernah ingkar tempat
Hari ini mungkin tak sempurna
Tapi esok bisa jadi cerita

Langit masih sama, biru di atas sana
Dan kini ku tahu, ku tak sendiri
Aku percaya, masih ada cahaya
Yang menuntunku kembali`,

            "Suatu Hari Nanti": `Di sudut kecil kota yang tenang
Aku duduk bermimpi tentang lintasan panjang
Tak ada sorak, tak ada gemerlap
Hanya tekad di dada yang tak pernah lenyap

Tak semua orang bisa mengerti
Langkah kecil yang kuambil setiap hari
Tapi aku tahu, dalam hati
Setiap peluh ini punya arti

Suatu hari nanti, aku melaju
Melewati badai, luka, dan ragu
Suatu hari nanti, ku buktikan
Bahwa mimpi tak pernah jadi angan-angan

Kadang dunia terasa berat
Langkah tertahan, harapan nyaris tersesat
Tapi aku belajar dari kesakitan
Bahwa jatuh bukan akhir perjalanan

Dari malam-malam panjang yang sunyi
Dari tangis yang tak pernah terlihat di sini
Kupahat impian di dinding hati
Dan ku bawa sampai akhir nanti

Suatu hari nanti, aku melaju
Bukan hanya cepat, tapi penuh makna
Suatu hari nanti, dunia tahu
Ada harga dari tiap jejak yang kutuju

Aku bermimpi...
Menjadi juara dunia
Bukan sekadar piala
Tapi juara dari segala luka dan usaha

Suatu hari nanti, ku tak sendiri
Orang-orang yang kusayang ikut berdiri
Suatu hari nanti, semua ini
Jadi cerita tentang gigih yang tak pernah mati`,

            "Nada Terpendam": `Di balik senyum, tersimpan
Sebuah lagu yang tak pernah dinyanyikan
Nada-nada yang kusimpan
Dalam sunyi yang terus menjerat

Kata ingin keluar, tapi takut terdengar
Takut dihancurkan oleh waktu yang salah
Jadi kupendam dalam ruang
Yang hanya aku dan sepi yang tahu

Kupeluk luka dalam diam
Menunggu hari yang paham

Andai kau tahu lagu di hatiku
Yang tak pernah punya panggung untuk tumbuh
Di setiap helaan napas yang tertahan
Nada terpendam, nyanyian yang tertelan

Kadang ingin aku teriak
Tapi dunia sibuk dengan suaranya
Tak ada ruang tuk bisikanku
Yang perlahan hilang jadi abu

Kupeluk mimpi yang tak terang
Masih berharap kau datang

Andai kau tahu lagu di hatiku
Yang tak pernah punya panggung untuk tumbuh
Di setiap helaan napas yang tertahan
Nada terpendam, nyanyian yang tertelan

Mungkin suatu hari nanti
Ada telinga yang mau mengerti
Tapi sampai saat itu tiba
Biar kusimpan lagu ini sendiri

Andai kau tahu, betapa ku ingin
Menyanyikan semua yang terkunci
Namun bibirku masih terkunci oleh sunyi
Nada terpendam, tetap menanti‚Ä¶

Di balik senyum, tersimpan
Lagu yang tak pernah dinyanyikan...`,

            "Langit Patah Arah": `Langit pun salah menatap
Seperti aku, tak tahu harus ke mana
Senja tak lagi jingga
Waktu pun enggan bicara

Langkahku kabur di bayang
Arah hilang, peta pun tenggelam
Kupanggil namaku sendiri
Tak ada gema, hanya sepi

Langit patah arah
Tak tahu barat dari timur
Seperti hati yang retak
Dalam kabut rindu yang hancur

Langit patah arah
Tak bisa bedakan pagi atau petang
Seperti aku yang hilang
Tak temukan pulang

Mungkin waktu perlu diam
Untuk dengar suara dalam
Mungkin aku perlu hilang
Agar tahu di mana terang

Langit patah arah
Tak tahu barat dari timur
Seperti hati yang retak
Dalam kabut rindu yang hancur

Langit patah arah
Tak bisa bedakan pagi atau petang
Seperti aku yang hilang
Tak temukan pulang

Langit pun salah menatap
Dan aku masih... tak tahu harus ke mana`,

            "Tak Bernama, Tapi Ada": `Aku tak dikenal oleh dunia
Tak tercatat dalam sejarah siapa-siapa
Tapi aku pernah menolong tanpa disadari
Langkahku sunyi, tapi tetap berarti

Kau tak pernah lihat aku
Tapi aku selalu ada di balik bayangmu

Tak bernama, tapi aku ada
Dalam tawa yang kau rasa
Tak tertulis, tapi nyata
Di tiap detak yang buatmu percaya

Aku bayang dalam keramaian
Senyum yang singgah tanpa kau tahu siapa
Mungkin kau lupa, atau tak pernah sadar
Ada aku di balik hari yang lebih sabar

Aku bukan siapa-siapa
Tapi aku pernah jadi alasmu berdiri

Tak bernama, tapi aku ada
Dalam hangat yang kau kira fana
Tak terlihat, tapi terasa
Seperti suara saat kau diam

Bukan pujian yang kucari
Cukup kau berjalan lagi‚Ä¶

Tak bernama, tapi aku ada
Dalam luka yang perlahan reda
Tak tertulis, tapi nyata
Seperti angin yang buatmu bertahan

Mungkin aku akan dilupa...
Tapi jejakku... tetap ada...
Tak bernama... tapi aku ada‚Ä¶`,

            "Resonansi Dalam Diam": `Dalam sunyi aku berbicara
Tanpa kata, tanpa suara
Setiap jeda penuh makna
Yang tak sempat terucap nyata

Mereka bilang aku diam
Padahal hatiku bergemuruh
Bukan bisu, hanya tenggelam
Dalam dunia yang terlalu gaduh

Diamku bukan hampa
Tapi gema yang tak kau dengar
Detak jantung, hembus napas
Nada yang tak pernah lepas

Diamku bukan akhir
Tapi awal yang lebih dalam
Resonansi dalam diam
Menembus ruang dan waktu diam-diam

Bayang-bayang menari perlahan
Di ruang kosong penuh kenangan
Kutatap langit tanpa warna
Mencari arti dalam gelap yang bicara

Tak perlu teriak tuk mengguncang
Kadang senyap lebih menyentuh
Tanpa ada ini
Kau takkan tahu artinya peluk tanpa peluh

Diamku bukan hampa
Tapi gema yang tak kau dengar
Detak jantung, hembus napas
Nada yang tak pernah lepas

Diamku bukan akhir
Tapi awal yang lebih dalam
Resonansi dalam diam
Menembus ruang dan waktu diam-diam

Cobalah dengar
Bila hatimu masih peka
Diam ini bicara
Dengan cara yang tak biasa`,

            "Runtuh Tanpa Suara": `Langit kelabu di dalam dadaku
Langkahku berat, tapi kau tak tahu
Aku tersenyum di depanmu
Padahal hatiku nyaris membeku

Kau berjalan tanpa menoleh
Aku tenggelam dalam bayangmu
Dan dunia tetap berputar
Meski aku tak lagi utuh

Bahkan tangisku terlalu lirih
Untuk mengguncang perhatianmu
Aku runtuh tanpa suara
Di titik terendah, kau tak melihatku
Cinta ini jadi rahasia
Yang hanya aku dan malam tahu

Kau tertawa, aku ikut tertawa
Padahal jiwaku sedang patah
Kau bahagia, aku pura-pura
Menjadi kuat, meski tak kuasa

Andai kau tahu, betapa aku
Menunggu satu tatapan darimu
Tapi aku hanyalah bayangan
Yang kau lewati tanpa perasaan

Bahkan tangisku terlalu lirih
Untuk mengguncang perhatianmu
Aku runtuh tanpa suara
Di titik terendah, kau tak melihatku
Cinta ini jadi rahasia
Yang hanya aku dan malam tahu
Dan mungkin, selamanya begitu...
Aku runtuh...
Tanpa suara...`,

            "Kilau Tanpa Sorotan": `Langkah kecil di jalan sepi
Tak ada sorot, tak ada tepuk tangan
Namun hatiku tetap bernyanyi
Kilauku tak butuh panggung besar

Kilau tanpa sorotan
Tetap hidup dalam diam
Resonansi yang perlahan
Mengalun di ruang tenang

Bayangan jatuh, cahaya redup
Aku masih berdiri, tak perlu bukti
Dalam senyap aku menemukan
Arti hadir tanpa keramaian

Kilau tanpa sorotan
Tetap hidup dalam diam
Resonansi yang perlahan
Mengalun di ruang tenang

Tak semua harus terlihat
Tak semua harus terdengar
Ada indah yang sederhana
Ada damai tanpa suara

Kilauku‚Ä¶ tetap ada
Meski tanpa sorotan
Resonansi‚Ä¶ dalam diam
Mengikat jiwa perlahan`,

            "Gelombang Terakhir": `Di tepi senja aku menunggu
Gelombang terakhir datang membisu
Angin berbisik, waktu pun layu
Nada sederhana, hati pun luluh

Gelombang terakhir, bawa aku pergi
Temani langkah, temani mimpi
Kita hanyut, tanpa janji lagi
Gelombang terakhir, aku percaya diri

Langkah kecil di pasir yang hilang
Jejakmu samar, tapi tetap tenang
Cahaya redup, tak perlu terang
Ritme sederhana, rasa pun datang

Gelombang terakhir, bawa aku pergi
Temani langkah, temani mimpi
Kita hanyut, tanpa janji lagi
Gelombang terakhir, aku percaya diri

Tak ada kata, hanya rasa
Mengalir pelan, seperti nada
Gelombang terakhir, aku percaya
Diam pun bisa jadi suara

Gelombang terakhir‚Ä¶
Gelombang terakhir‚Ä¶
Temani aku sampai tenang‚Ä¶`
        };

        // Elemen DOM
        const audio = document.getElementById('audio-engine');
        const playBtn = document.getElementById('play-trigger');
        const playIcon = document.getElementById('play-icon');
        const playbackStatus = document.getElementById('playback-status');
        const lyricsDisplay = document.getElementById('lyrics-display');
        const progFill = document.getElementById('progress-fill');
        const rotatingName = document.getElementById('rotating-name');
        const displayTitle = document.getElementById('display-title');
        const displayAlbum = document.getElementById('display-album');
        
        // State
        let currentIndex = songs.length > 0 ? 0 : -1;
        let isShuffle = false;
        let isRepeat = false;
        let currentLyrics = null;
        let lyricsTimeout = null;
        let isLoading = false;

        // Cek apakah ada lagu
        if (songs.length === 0) {
            if (playbackStatus) {
                playbackStatus.textContent = '‚ùå Tidak ada sumber audio valid';
                playbackStatus.classList.add('error-message');
            }
        }

        // --- LOGIKA ROTASI NAMA ---
        const names = ["Muhaajir", "Suni", "Brava", "Niva", "Ricerca", "Genio", "Copi", "Chita", "Hajir", "Regina"];
        let nameIdx = 0;

        function rotateNames() {
            const rotatingName = document.getElementById('rotating-name');
            if (rotatingName) { 
                nameIdx = (nameIdx + 1) % names.length; 
                rotatingName.style.opacity = '0'; 
                setTimeout(() => {
                    if (rotatingName) { 
                        rotatingName.innerText = names[nameIdx]; 
                        rotatingName.style.opacity = '1'; 
                    }
                }, 200); 
            }
        }
        setInterval(rotateNames, 1300);

        // --- FUNGSI UPDATE STATUS (hanya di playbackStatus) ---
        function updateStatus(msg, isError = false) {
            if (!playbackStatus) return;
            playbackStatus.textContent = msg;
            if (isError) {
                playbackStatus.classList.add('error-message');
            } else {
                playbackStatus.classList.remove('error-message');
            }
        }

        // --- FUNGSI TAMPILAN LIRIK (hanya di lyricsDisplay) ---
        function displayLyrics() {
            if (!lyricsDisplay) return;
            
            if (currentIndex >= 0 && songs[currentIndex]) {
                const songName = songs[currentIndex].name;
                const lyrics = lyricsMap[songName];
                if (lyrics) {
                    lyricsDisplay.textContent = lyrics;
                } else {
                    lyricsDisplay.textContent = `üéµ ${songName}\n\nLirik sedang dalam proses. Nikmati instrumentalnya dulu ya!`;
                }
            } else {
                lyricsDisplay.textContent = "üéß Pilih kaset dari rak untuk memutar suara.";
            }
            // Scroll ke atas
            lyricsDisplay.scrollTop = 0;
        }

        // --- PESAN SEMENTARA (tampil di status, lalu kembali ke status pemutaran) ---
        function temporaryMessage(msg, duration, isError = false) {
            if (!playbackStatus) return;
            
            if (lyricsTimeout) {
                clearTimeout(lyricsTimeout);
            }
            
            // Simpan status terakhir sebelum ditimpa
            const lastStatus = playbackStatus.textContent;
            updateStatus(msg, isError);
            
            lyricsTimeout = setTimeout(() => {
                // Kembalikan ke status pemutaran terkini
                if (!audio.paused) {
                    updateStatus("‚ñ∂Ô∏è Memutar...");
                } else {
                    updateStatus("‚è∏Ô∏è Menjeda");
                }
                lyricsTimeout = null;
            }, duration);
        }

        // --- RENDER PLAYLIST (sama seperti sebelumnya) ---
        function renderPlaylist() {
            const container = document.getElementById('playlist-inject');
            if (!container || songs.length === 0) return;
            
            container.innerHTML = '';
            let currentGroup = "";

            songs.forEach((song, index) => {
                if (!song || !song.url) return;
                
                if (song.group !== currentGroup) {
                    currentGroup = song.group;
                    const label = document.createElement('div');
                    label.className = 'group-label';
                    label.innerText = currentGroup;
                    container.appendChild(label);
                }

                const item = document.createElement('div');
                item.className = 'track-item';
                item.dataset.index = index;
                
                const safeName = escapeHtml(song.name);
                const gdDownload = `https://drive.google.com/uc?export=download&id=${song.gdId}`;
                const websiteUrl = 'https://hajirmuhaajir.github.io/muhaajirmusicplayers';
                
                item.innerHTML = `
                    <span class="t-num">${(index + 1).toString().padStart(2, '0')}</span>
                    <span class="t-name">${safeName}</span>
                    <div class="track-actions">
                        <button class="act-btn" data-copy="${websiteUrl}">LINK</button>
                        <a href="${gdDownload}" download class="act-btn" target="_blank" rel="noopener noreferrer">DL</a>
                    </div>
                `;
                
                item.addEventListener('click', (e) => {
                    const target = e.target;
                    if (!target.classList.contains('act-btn') && target.tagName !== 'A') {
                        loadTrack(index);
                    }
                });

                const linkBtn = item.querySelector('[data-copy]');
                if (linkBtn) {
                    linkBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const textToCopy = e.currentTarget.dataset.copy;
                        if (textToCopy) {
                            copyToClipboard(textToCopy);
                        } else {
                            temporaryMessage('‚ùå Tautan tidak tersedia', 2000, true);
                        }
                    });
                }
                
                container.appendChild(item);
            });
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function copyToClipboard(text) {
            if (!text) return;
            
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    temporaryMessage("‚úÖ Tautan pemutar disalin!", 2000);
                }).catch(() => {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }

        function fallbackCopy(text) {
            try {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                temporaryMessage("‚úÖ Tautan pemutar disalin!", 2000);
            } catch (e) {
                temporaryMessage('‚ùå Gagal menyalin', 2000, true);
            }
        }

        // --- LOGIKA PLAYER ---
        function init() {
            if (songs.length === 0) {
                if (playbackStatus) {
                    playbackStatus.textContent = '‚ùå Error: Tidak ada lagu tersedia';
                    playbackStatus.classList.add('error-message');
                }
                return;
            }
            
            renderPlaylist();
            
            const savedIndex = getSavedIndex();
            loadTrack(savedIndex >= 0 && savedIndex < songs.length ? savedIndex : 0, false);
            
            setupEventListeners();
        }

        function setupEventListeners() {
            if (!audio || !playBtn) return;

            playBtn.addEventListener('click', () => {
                try {
                    if (songs.length === 0) {
                        temporaryMessage('‚ùå Tidak ada lagu', 2000, true);
                        return;
                    }
                    
                    if (audio.paused) {
                        audio.play().catch(err => {
                            temporaryMessage('‚ùå Gagal memutar: ' + err.message, 3000, true);
                        });
                    } else {
                        audio.pause();
                    }
                } catch (e) {
                    temporaryMessage('‚ùå Error: ' + e.message, 2000, true);
                }
            });

            const nextBtn = document.getElementById('next-btn');
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    if (songs.length === 0 || currentIndex === -1) return;
                    let next;
                    if (isShuffle) {
                        do {
                            next = Math.floor(Math.random() * songs.length);
                        } while (next === currentIndex && songs.length > 1);
                    } else {
                        next = (currentIndex + 1) % songs.length;
                    }
                    loadTrack(next);
                });
            }

            const prevBtn = document.getElementById('prev-btn');
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (songs.length === 0 || currentIndex === -1) return;
                    let prev = (currentIndex - 1 + songs.length) % songs.length;
                    loadTrack(prev);
                });
            }

            const shuffleBtn = document.getElementById('shuffle-btn');
            if (shuffleBtn) {
                shuffleBtn.addEventListener('click', (e) => {
                    isShuffle = !isShuffle;
                    e.currentTarget.classList.toggle('active', isShuffle);
                    temporaryMessage(isShuffle ? "üîÄ Mode Acak Aktif" : "‚ñ∂Ô∏è Mode Berurutan Aktif", 1500);
                });
            }

            const repeatBtn = document.getElementById('repeat-btn');
            if (repeatBtn) {
                repeatBtn.addEventListener('click', (e) => {
                    isRepeat = !isRepeat;
                    e.currentTarget.classList.toggle('active', isRepeat);
                    temporaryMessage(isRepeat ? "üîÅ Mengulang Satu Lagu" : "‚è≠Ô∏è Putar Terus", 1500);
                });
            }

            const volSlider = document.getElementById('vol-slider');
            if (volSlider && audio) {
                volSlider.addEventListener('input', (e) => {
                    audio.volume = Math.min(1, Math.max(0, parseFloat(e.target.value) || 0));
                });
            }

            const progRoot = document.getElementById('prog-root');
            if (progRoot && audio) {
                progRoot.addEventListener('click', (e) => {
                    if (audio.duration && isFinite(audio.duration)) {
                        const rect = e.currentTarget.getBoundingClientRect();
                        const percent = (e.clientX - rect.left) / rect.width;
                        audio.currentTime = percent * audio.duration;
                    }
                });
            }

            if (audio) {
                audio.addEventListener('play', () => {
                    if (playIcon) {
                        playIcon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
                    }
                    updateStatus("‚ñ∂Ô∏è Memutar...");
                });

                audio.addEventListener('pause', () => {
                    if (playIcon) {
                        playIcon.innerHTML = '<path d="M8 5v14l11-7z"/>';
                    }
                    updateStatus("‚è∏Ô∏è Menjeda");
                });

                audio.addEventListener('timeupdate', updateProgress);
                
                audio.addEventListener('ended', () => {
                    if (isRepeat) {
                        audio.play().catch(() => {});
                    } else {
                        const nextBtn = document.getElementById('next-btn');
                        if (nextBtn) nextBtn.click();
                    }
                });

                audio.addEventListener('loadedmetadata', () => {
                    const timeEnd = document.getElementById('time-end');
                    if (timeEnd) {
                        timeEnd.innerText = formatTime(audio.duration);
                    }
                    isLoading = false;
                    playBtn.classList.remove('audio-loading');
                });

                audio.addEventListener('error', (e) => {
                    console.error('Audio error:', e);
                    temporaryMessage('‚ùå Gagal memuat audio. Coba lagi.', 3000, true);
                    isLoading = false;
                    playBtn.classList.remove('audio-loading');
                });

                audio.addEventListener('loadstart', () => {
                    isLoading = true;
                    playBtn.classList.add('audio-loading');
                });
            }
        }

        function loadTrack(index, autoplay = true) {
            if (index < 0 || index >= songs.length || !audio) return;
            
            const song = songs[index];
            if (!song || !song.url || !isValidUrl(song.url)) {
                temporaryMessage('‚ùå URL audio tidak valid', 3000, true);
                return;
            }
            
            currentIndex = index;
            
            audio.pause();
            audio.src = song.url;
            audio.load();

            if (displayTitle) displayTitle.innerText = song.name;
            if (displayAlbum) displayAlbum.innerText = song.group;
            
            displayLyrics(); // perbarui lirik
            
            document.querySelectorAll('.track-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });

            try {
                localStorage.setItem('muhaajir_last_v2', index);
            } catch (e) {}

            if (autoplay) {
                audio.play().catch((err) => {
                    console.warn('Autoplay failed:', err);
                    temporaryMessage("üîä Tekan PLAY untuk memulai suara.", 3000);
                });
            } else {
                // Set status awal (pause)
                updateStatus("‚è∏Ô∏è Menjeda");
            }
        }

        function updateProgress() {
            if (audio && audio.duration && isFinite(audio.duration)) {
                const percent = (audio.currentTime / audio.duration) * 100;
                if (progFill) {
                    progFill.style.width = percent + '%';
                }
                const timeNow = document.getElementById('time-now');
                if (timeNow) {
                    timeNow.innerText = formatTime(audio.currentTime);
                }
            }
        }

        function formatTime(seconds) {
            if (isNaN(seconds) || !isFinite(seconds) || seconds < 0) return "0:00";
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function getSavedIndex() {
            try {
                const saved = localStorage.getItem('muhaajir_last_v2');
                const parsed = saved ? parseInt(saved) : 0;
                return (parsed >= 0 && parsed < songs.length) ? parsed : 0;
            } catch {
                return 0;
            }
        }

        // Mulai aplikasi
        init();
    })();
</script>

<!-- Perubahan:
     - Status playback dipisah ke elemen #playback-status
     - Lirik dipindah ke elemen #lyrics-display
     - Fungsi updateStatus hanya mengubah playback-status
     - temporaryMessage mengubah playback-status sementara lalu kembali ke status pemutaran
     - displayLyrics hanya mengubah lyrics-display
-->
</body>
</html>